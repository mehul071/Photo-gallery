{"version":3,"sources":["Components/Photos.js","App.js","index.js"],"names":["Photos","regular","urls","alt_description","likes","user","name","portfolio_url","medium","profile_image","className","src","alt","href","clientid","process","App","useState","loading","setLoading","photos","setPhotos","page","setpage","query","setquery","fetchImages","a","urlpage","urlQuery","url","fetch","response","json","data","oldphotos","results","console","log","useEffect","event","window","addEventListener","innerHeight","scrollY","document","body","scrollHeight","oldpage","removeEventListener","type","placeholder","value","onChange","e","target","onClick","preventDefault","map","image","index","id","ReactDOM","render","StrictMode","getElementById"],"mappings":"0PA4BeA,EA1BA,SAAC,GAST,IAREC,EAQH,EARJC,KAAOD,QACPE,EAOI,EAPJA,gBACAC,EAMI,EANJA,MAMI,IALJC,KACEC,EAIE,EAJFA,KACAC,EAGE,EAHFA,cACgBC,EAEd,EAFFC,cAAgBD,OAGlB,OACE,0BAASE,UAAU,QAAnB,UACE,qBAAKC,IAAKV,EAASW,IAAKT,IACxB,sBAAKO,UAAU,aAAf,UACE,gCACE,6BAAKJ,IACL,8BAAIF,EAAJ,eAEF,mBAAGS,KAAMN,EAAT,SACA,qBAAKI,IAAKH,EAAQI,IAAKN,EAAMI,UAAU,uBChBzCI,EAAQ,qBAAiBC,+CAoFhBC,MAlFf,WACE,MAA8BC,oBAAS,GAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAA2BF,mBAAS,IAApC,mBAAOG,EAAP,KAAcC,EAAd,KACA,EAAuBJ,mBAAS,GAAhC,mBAAOK,EAAP,KAAYC,EAAZ,KACA,EAA0BN,mBAAS,IAAnC,mBAAOO,EAAP,KAAcC,EAAd,KACMC,EAAW,uCAAG,oCAAAC,EAAA,6DAClBR,GAAW,GAELS,EAHY,gBAGON,GACnBO,EAJY,iBAISL,GAIzBM,EADCN,EACE,UAhBS,2CAgBT,OAAkBV,GAAlB,OAA6Bc,GAA7B,OAAuCC,GAGvC,UApBO,oCAoBP,OAAgBf,GAAhB,OAA2Bc,GAXd,kBAcOG,MAAMD,GAdb,cAcVE,EAdU,iBAeGA,EAASC,OAfZ,QAeVC,EAfU,OAgBhBb,GAAU,SAACc,GACT,OAAGX,GAAkB,IAATF,EACHY,EAAKE,QAGN,GAAN,mBAAWD,GADLX,EACN,YAAyBU,EAAKE,SAG9B,YAAwBF,OAG5Bf,GAAW,GA3BK,kDA6BhBA,GAAW,GACXkB,QAAQC,IAAR,MA9BgB,0DAAH,qDAqDjB,OAnBAC,qBAAU,WACRb,MACA,CAACJ,IACDiB,qBAAU,WACV,IAAMC,EAAQC,OAAOC,iBAAiB,UAAS,YAExCxB,GAAWuB,OAAOE,YAAcF,OAAOG,SAAWC,SAASC,KAAKC,aAAc,GAEjFxB,GAAQ,SAACyB,GACP,OAAOA,EAAS,QAItB,OAAO,kBAAMP,OAAOQ,oBAAoB,SAAST,MACjD,IAMA,iCACE,yBAAS9B,UAAU,SAAnB,SACE,uBAAMA,UAAU,cAAhB,UACE,uBAAOwC,KAAK,OAAOC,YAAY,SAASzC,UAAU,aAAa0C,MAAO5B,EAAO6B,SAAU,SAACC,GACtF7B,EAAS6B,EAAEC,OAAOH,UAEpB,wBAAQF,KAAK,SAASxC,UAAU,aAAa8C,QAXhC,SAACF,GACpBA,EAAEG,iBACFlC,EAAQ,IASF,SACE,cAAC,IAAD,WAIN,0BAASb,UAAU,SAAnB,UACE,qBAAKA,UAAU,gBAAf,SACGU,EAAOsC,KAAI,SAACC,EAAMC,GACjB,OAAO,cAAC,EAAD,eAA2BD,GAAdA,EAAME,SAG7B3C,GAAW,oBAAIR,UAAU,UAAd,+BC9EpBoD,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFnB,SAASoB,eAAe,W","file":"static/js/main.7a12fab1.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Photos = ({\r\n  urls:{ regular },\r\n  alt_description,\r\n  likes,\r\n  user:{\r\n    name,\r\n    portfolio_url,\r\n    profile_image:{ medium },\r\n  },\r\n  })=>{\r\n  return (\r\n    <article className=\"photo\">\r\n      <img src={regular} alt={alt_description}/>\r\n      <div className=\"photo-info\">\r\n        <div>\r\n          <h4>{name}</h4>\r\n          <p>{likes} likes</p>\r\n        </div>\r\n        <a href={portfolio_url}>\r\n        <img src={medium} alt={name} className='user-img '/>\r\n        </a>\r\n      </div>\r\n    </article>\r\n  )\r\n}\r\n\r\nexport default Photos","import React,{useState,useEffect} from 'react'\nimport {FaSearch} from 'react-icons/fa'\nimport Photos from './Components/Photos'\nconst MainUrl = 'https://api.unsplash.com/photos/'\nconst SearchUrl = 'https://api.unsplash.com/search/photos/'\nconst clientid = `?client_id=${process.env.REACT_APP_ACCESS_KEY}`\n\nfunction App() {\n  const [loading, setLoading] = useState(false);\n  const [photos,setPhotos] = useState([]);\n  const [page,setpage] = useState(0);\n  const [query, setquery] = useState('')\n  const fetchImages = async() =>{\n    setLoading(true)\n    let url;\n    const urlpage = `&page=${page}`\n    const urlQuery = `&query=${query}`\n\n\n    if(query){\n      url = `${SearchUrl}${clientid}${urlpage}${urlQuery}`\n    }\n    else{\n      url = `${MainUrl}${clientid}${urlpage}`\n    }\n    try{\n      const response = await fetch(url);\n      const data = await response.json();\n      setPhotos((oldphotos)=>{\n        if(query && page === 1){\n          return data.results\n        }\n        else if(query){\n          return [...oldphotos, ...data.results]\n        }\n        else{\n          return [...oldphotos,...data]\n        }\n      });\n      setLoading(false)\n    }catch(error){\n      setLoading(false)\n      console.log(error)\n    }\n  }\n\n  useEffect(()=>{\n    fetchImages();  \n  },[page])\n    useEffect(()=>{\n    const event = window.addEventListener('scroll',() =>\n    {\n      if( !loading && window.innerHeight + window.scrollY >= document.body.scrollHeight -2)\n      {\n        setpage((oldpage)=>{\n          return oldpage +1;\n        })\n      }\n    })\n    return () => window.removeEventListener('scroll',event);\n  },[])\n  const handleSubmit = (e) =>{\n    e.preventDefault();\n    setpage(1)\n  }\n  return (\n    <main>\n      <section className='search'>\n        <form className='search-form'>\n          <input type=\"text\" placeholder=\"Search\" className='form-input' value={query} onChange={(e)=>{\n            setquery(e.target.value)\n          }} />\n          <button type='submit' className='submit-btn' onClick={handleSubmit}>\n            <FaSearch/>\n          </button>\n        </form>\n      </section>\n      <section className=\"photos\">\n        <div className=\"photos-center\">\n          {photos.map((image,index)=>{\n            return <Photos key={image.id} {...image}/>\n          })}\n        </div>\n        {loading && <h2 className='loading'>Loading...</h2>}\n      </section>\n    </main>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}